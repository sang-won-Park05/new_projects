{% comment %} question 변수 필요 {% endcomment %}
<article class="rounded-2xl bg-[var(--panel)] text-[var(--text)] shadow-sm hover:shadow-lg hover:-translate-y-0.5 transition focus-within:ring-2 focus-within:ring-primary outline-none">
  <a href="{% url 'pybo:detail' question.id %}" class="block p-6">
    <h3 class="text-lg font-bold clamp-2 mb-3">{{ question.subject }}</h3>
    <div class="flex items-center justify-between text-sm opacity-80">
      <span class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><circle cx="12" cy="7" r="4"/><path d="M5.5 21a7.5 7.5 0 0113 0"/></svg>
        {{ question.author.username }}
      </span>
      <span class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M8 7V3m8 4V3M5 11h14M7 19h10a2 2 0 002-2v-6H5v6a2 2 0 002 2z"/></svg>
        {{ question.create_date|date:"Y-m-d" }}
      </span>
      {% with ac=question.num_answers|default:question.answer_set.count %}
      <span class="flex items-center gap-1">
        <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M17 8h2a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8a2 2 0 012-2h2"/><path d="M15 3h-6a2 2 0 00-2 2v2a2 2 0 002 2h6a2 2 0 002-2V5a2 2 0 00-2-2z"/></svg>
        <span class="inline-flex items-center rounded-full px-2 py-0.5 text-xs font-semibold border"
              style="{% if ac|add:0 > 0 %}background-color: rgb(56 189 248 / 0.15); color:#38bdf8; border-color: #38bdf8;{% else %}opacity:.7; border-color: currentColor;{% endif %}">
          {{ ac }} 답변
        </span>
      </span>
      {% endwith %}
    </div>
  </a>
</article>

